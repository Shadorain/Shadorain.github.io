{"expireTime":9007200850472565000,"key":"transformer-remark-markdown-ast-3c18434102526c001a51b0d5d1485224-gatsby-remark-codefencegatsby-remark-katexgatsby-remark-prismjsgatsby-remark-embed-youtube-","val":{"type":"root","children":[{"type":"heading","depth":2,"children":[{"type":"text","value":"What is Deepspeech","position":{"start":{"line":2,"column":4,"offset":4},"end":{"line":2,"column":22,"offset":22},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":22,"offset":22},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"From Mozilla's github repo for deepspeech:","position":{"start":{"line":4,"column":1,"offset":24},"end":{"line":4,"column":43,"offset":66},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":24},"end":{"line":4,"column":43,"offset":66},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"\"DeepSpeech is an open source Speech-To-Text engine, using a model trained by machine learning techniques based on Baidu's Deep Speech research paper. Project DeepSpeech uses Google's TensorFlow to make the implementation easier.\"","position":{"start":{"line":6,"column":1,"offset":68},"end":{"line":6,"column":231,"offset":298},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":68},"end":{"line":6,"column":231,"offset":298},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Virtual environment","position":{"start":{"line":8,"column":4,"offset":303},"end":{"line":8,"column":23,"offset":322},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":300},"end":{"line":8,"column":23,"offset":322},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"First let's create a virtual environment for deepspeech","position":{"start":{"line":10,"column":1,"offset":324},"end":{"line":10,"column":56,"offset":379},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":324},"end":{"line":10,"column":56,"offset":379},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<code-fence lang=\"null\" null>\n    <textarea vue-slot=\"code\">\n      conda create -n ds python=3.8\n\nconda activate deepspeech\n    </textarea>\n    </code-fence>\n  ","position":{"start":{"line":12,"column":1,"offset":381},"end":{"line":16,"column":4,"offset":445},"indent":[1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Install deepspeech","position":{"start":{"line":18,"column":4,"offset":450},"end":{"line":18,"column":22,"offset":468},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":447},"end":{"line":18,"column":22,"offset":468},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The only required package is deepspeech","position":{"start":{"line":20,"column":1,"offset":470},"end":{"line":20,"column":40,"offset":509},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":470},"end":{"line":20,"column":40,"offset":509},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<code-fence lang=\"null\" null>\n    <textarea vue-slot=\"code\">\n      pip install deepspeech\n    </textarea>\n    </code-fence>\n  ","position":{"start":{"line":22,"column":1,"offset":511},"end":{"line":24,"column":4,"offset":541},"indent":[1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Download Model","position":{"start":{"line":26,"column":3,"offset":545},"end":{"line":26,"column":17,"offset":559},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":543},"end":{"line":26,"column":17,"offset":559},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"A pre-trained english model is available for download","position":{"start":{"line":28,"column":1,"offset":561},"end":{"line":28,"column":54,"offset":614},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":561},"end":{"line":28,"column":54,"offset":614},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<code-fence lang=\"null\" null>\n    <textarea vue-slot=\"code\">\n      curl -LO https://github.com/mozilla/DeepSpeech/releases/download/v0.6.1/deepspeech-0.6.1-models.tar.gz\n\ntar xvf deepspeech-0.6.1-models.tar.gz\n    </textarea>\n    </code-fence>\n  ","position":{"start":{"line":30,"column":1,"offset":616},"end":{"line":34,"column":4,"offset":766},"indent":[1,1,1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Download audio files","position":{"start":{"line":36,"column":3,"offset":770},"end":{"line":36,"column":23,"offset":790},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":768},"end":{"line":36,"column":23,"offset":790},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can download some example audio files","position":{"start":{"line":38,"column":1,"offset":792},"end":{"line":38,"column":42,"offset":833},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":792},"end":{"line":38,"column":42,"offset":833},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<code-fence lang=\"null\" null>\n    <textarea vue-slot=\"code\">\n      curl -LO https://github.com/mozilla/DeepSpeech/releases/download/v0.6.1/audio-0.6.1.tar.gz\n\ntar xvf audio-0.6.1.tar.gz\n    </textarea>\n    </code-fence>\n  ","position":{"start":{"line":40,"column":1,"offset":835},"end":{"line":44,"column":4,"offset":961},"indent":[1,1,1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Run inference","position":{"start":{"line":46,"column":3,"offset":965},"end":{"line":46,"column":16,"offset":978},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":963},"end":{"line":46,"column":16,"offset":978},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We can now transcribe the audio file","position":{"start":{"line":48,"column":1,"offset":980},"end":{"line":48,"column":37,"offset":1016},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":980},"end":{"line":48,"column":37,"offset":1016},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<code-fence lang=\"null\" null>\n    <textarea vue-slot=\"code\">\n      deepspeech --model deepspeech-0.6.1-models/output_graph.pbmm --audio audio/2830-3980-0043.wav\n    </textarea>\n    </code-fence>\n  ","position":{"start":{"line":50,"column":1,"offset":1018},"end":{"line":52,"column":4,"offset":1119},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you ran the above command you should see something like \"experience proofsless\" if you are using the same model as me","position":{"start":{"line":54,"column":1,"offset":1121},"end":{"line":54,"column":121,"offset":1241},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":1121},"end":{"line":54,"column":121,"offset":1241},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So not perfect, but we can try it out on our own voice as well","position":{"start":{"line":56,"column":1,"offset":1243},"end":{"line":56,"column":63,"offset":1305},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":1243},"end":{"line":56,"column":63,"offset":1305},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Record a wav file","position":{"start":{"line":58,"column":3,"offset":1309},"end":{"line":58,"column":20,"offset":1326},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":1307},"end":{"line":58,"column":20,"offset":1326},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For deepspeech to run inference correctly you will need to record your voice with some specific parameters.","position":{"start":{"line":60,"column":1,"offset":1328},"end":{"line":60,"column":108,"offset":1435},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":1328},"end":{"line":60,"column":108,"offset":1435},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Sampling rate: 16 kHz","position":{"start":{"line":62,"column":3,"offset":1439},"end":{"line":62,"column":24,"offset":1460},"indent":[]}}],"position":{"start":{"line":62,"column":3,"offset":1439},"end":{"line":62,"column":24,"offset":1460},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":1437},"end":{"line":62,"column":24,"offset":1460},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Channel: 1","position":{"start":{"line":63,"column":3,"offset":1463},"end":{"line":63,"column":13,"offset":1473},"indent":[]}}],"position":{"start":{"line":63,"column":3,"offset":1463},"end":{"line":63,"column":13,"offset":1473},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":1461},"end":{"line":63,"column":13,"offset":1473},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Bit rate: 256 kb/s","position":{"start":{"line":64,"column":3,"offset":1476},"end":{"line":64,"column":21,"offset":1494},"indent":[]}}],"position":{"start":{"line":64,"column":3,"offset":1476},"end":{"line":64,"column":21,"offset":1494},"indent":[]}}],"position":{"start":{"line":64,"column":1,"offset":1474},"end":{"line":64,"column":21,"offset":1494},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":1437},"end":{"line":64,"column":21,"offset":1494},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"We can achieve this using the ","position":{"start":{"line":66,"column":1,"offset":1496},"end":{"line":66,"column":31,"offset":1526},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">sox</code>","position":{"start":{"line":66,"column":31,"offset":1526},"end":{"line":66,"column":36,"offset":1531},"indent":[]}},{"type":"text","value":" package","position":{"start":{"line":66,"column":36,"offset":1531},"end":{"line":66,"column":44,"offset":1539},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":1496},"end":{"line":66,"column":44,"offset":1539},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you're on Ubuntu:","position":{"start":{"line":68,"column":1,"offset":1541},"end":{"line":68,"column":21,"offset":1561},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":1541},"end":{"line":68,"column":21,"offset":1561},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<code-fence lang=\"null\" null>\n    <textarea vue-slot=\"code\">\n      sudo apt install sox\n    </textarea>\n    </code-fence>\n  ","position":{"start":{"line":70,"column":1,"offset":1563},"end":{"line":72,"column":4,"offset":1591},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Arch Linux:","position":{"start":{"line":74,"column":1,"offset":1593},"end":{"line":74,"column":12,"offset":1604},"indent":[]}}],"position":{"start":{"line":74,"column":1,"offset":1593},"end":{"line":74,"column":12,"offset":1604},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<code-fence lang=\"null\" null>\n    <textarea vue-slot=\"code\">\n      yay -S sox\n    </textarea>\n    </code-fence>\n  ","position":{"start":{"line":76,"column":1,"offset":1606},"end":{"line":78,"column":4,"offset":1624},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Mac:","position":{"start":{"line":80,"column":1,"offset":1626},"end":{"line":80,"column":5,"offset":1630},"indent":[]}}],"position":{"start":{"line":80,"column":1,"offset":1626},"end":{"line":80,"column":5,"offset":1630},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<code-fence lang=\"null\" null>\n    <textarea vue-slot=\"code\">\n      brew install sox\n    </textarea>\n    </code-fence>\n  ","position":{"start":{"line":82,"column":1,"offset":1632},"end":{"line":84,"column":4,"offset":1656},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"After installing ","position":{"start":{"line":86,"column":1,"offset":1658},"end":{"line":86,"column":18,"offset":1675},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">sox</code>","position":{"start":{"line":86,"column":18,"offset":1675},"end":{"line":86,"column":23,"offset":1680},"indent":[]}},{"type":"text","value":" you should have access to the ","position":{"start":{"line":86,"column":23,"offset":1680},"end":{"line":86,"column":54,"offset":1711},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">rec</code>","position":{"start":{"line":86,"column":54,"offset":1711},"end":{"line":86,"column":59,"offset":1716},"indent":[]}},{"type":"text","value":" command, we will use this to record our voice","position":{"start":{"line":86,"column":59,"offset":1716},"end":{"line":86,"column":105,"offset":1762},"indent":[]}}],"position":{"start":{"line":86,"column":1,"offset":1658},"end":{"line":86,"column":105,"offset":1762},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To begin recording you voice enter the following command","position":{"start":{"line":88,"column":1,"offset":1764},"end":{"line":88,"column":57,"offset":1820},"indent":[]}}],"position":{"start":{"line":88,"column":1,"offset":1764},"end":{"line":88,"column":57,"offset":1820},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<code-fence lang=\"null\" null>\n    <textarea vue-slot=\"code\">\n      rec -r 16k -c 1 my_recording.wav\n    </textarea>\n    </code-fence>\n  ","position":{"start":{"line":90,"column":1,"offset":1822},"end":{"line":92,"column":4,"offset":1862},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"To make sure you have recorded the audio in the proper format we can install another package called ","position":{"start":{"line":94,"column":1,"offset":1864},"end":{"line":94,"column":101,"offset":1964},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">mediainfo</code>","position":{"start":{"line":94,"column":101,"offset":1964},"end":{"line":94,"column":112,"offset":1975},"indent":[]}},{"type":"text","value":" and run it like so:","position":{"start":{"line":94,"column":112,"offset":1975},"end":{"line":94,"column":132,"offset":1995},"indent":[]}}],"position":{"start":{"line":94,"column":1,"offset":1864},"end":{"line":94,"column":132,"offset":1995},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<code-fence lang=\"null\" null>\n    <textarea vue-slot=\"code\">\n      mediainfo my_recording.wav\n    </textarea>\n    </code-fence>\n  ","position":{"start":{"line":96,"column":1,"offset":1997},"end":{"line":98,"column":4,"offset":2031},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You should see an output similar to the following:","position":{"start":{"line":100,"column":1,"offset":2033},"end":{"line":100,"column":51,"offset":2083},"indent":[]}}],"position":{"start":{"line":100,"column":1,"offset":2033},"end":{"line":100,"column":51,"offset":2083},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<code-fence lang=\"null\" null>\n    <textarea vue-slot=\"code\">\n      General\nComplete name                            : my_recording.wav\nFormat                                   : Wave\nFile size                                : 64.0 KiB\nDuration                                 : 2 s 48 ms\nOverall bit rate mode                    : Constant\nOverall bit rate                         : 256 kb/s\n\nAudio\nFormat                                   : PCM\nFormat settings                          : Little / Signed\nCodec ID                                 : 1\nDuration                                 : 2 s 48 ms\nBit rate mode                            : Constant\nBit rate                                 : 256 kb/s\nChannel(s)                               : 1 channel\nSampling rate                            : 16.0 kHz\nBit depth                                : 16 bits\nStream size                              : 64.0 KiB (100%)\n    </textarea>\n    </code-fence>\n  ","position":{"start":{"line":102,"column":1,"offset":2085},"end":{"line":122,"column":4,"offset":2947},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Run inference","position":{"start":{"line":124,"column":4,"offset":2952},"end":{"line":124,"column":17,"offset":2965},"indent":[]}}],"position":{"start":{"line":124,"column":1,"offset":2949},"end":{"line":124,"column":17,"offset":2965},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Now we can run inference on our own voice data","position":{"start":{"line":126,"column":1,"offset":2967},"end":{"line":126,"column":47,"offset":3013},"indent":[]}}],"position":{"start":{"line":126,"column":1,"offset":2967},"end":{"line":126,"column":47,"offset":3013},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<code-fence lang=\"null\" null>\n    <textarea vue-slot=\"code\">\n      deepspeech --model deepspeech-0.6.1-models/output_graph.pbmm --audio my_recording.wav\n    </textarea>\n    </code-fence>\n  ","position":{"start":{"line":128,"column":1,"offset":3015},"end":{"line":130,"column":4,"offset":3108},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Wrapping up","position":{"start":{"line":132,"column":4,"offset":3113},"end":{"line":132,"column":15,"offset":3124},"indent":[]}}],"position":{"start":{"line":132,"column":1,"offset":3110},"end":{"line":132,"column":15,"offset":3124},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In the next article I'll go over running inference on a GPU","position":{"start":{"line":134,"column":1,"offset":3126},"end":{"line":134,"column":60,"offset":3185},"indent":[]}}],"position":{"start":{"line":134,"column":1,"offset":3126},"end":{"line":134,"column":60,"offset":3185},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":135,"column":1,"offset":3186}}}}